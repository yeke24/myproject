### 一 命名规则

注意：   
    函数命名，变量命名，文件命名要有描述性，别心疼空间，毕竟相比之下让代码易于新读者理解更重要；  
    以下所说的"大小写混合"命名指代首字母也要大写。  
    变量命名可读性：`下划线式命名 > 驼峰式命名 > 全部大写``  



#### 1 文件命名
##### * 说明：

- 文件名要全部小写，可以包含下划线(_)或者(-)  

##### * 用例
```
   1. memcache_info.cpp
   1. memcache-info.cpp
```  

#### 2 类型命名    
##### * 说明：
- 类型名称大小写混合，每个单词首字母均大写（所有类型命名 - 类,结构体,类型定义,typedef，枚举，类型模板  
参数均使用相同约定，即以大写字母开始，每个单词首字母均大写，不包含下划线 ）    

##### * 用例
```
    1. class ResponseMessage{...};
    2. typedef vector<int>::iterator IntItr;
    3. enum OpType{...};
    4. struct UserInfo{}
    5. class respMsg{...}  //错误，第一个字母没有大写
    ...

```
#### 3 变量命名
##### * 说明：
- 类的数据成员和局部变量（包括函数参数，类数据成员变量，结构体数据成员，函数内定义的变量）一律小写,单词  
之间用下划线连接,例如：`old_name`       
- 类的成员变量后加下划线区分，例如： `user_name_`    
- 结构体成员变量一般通过点（.）调用不必像类成员变量加下划线  
- 单词缩写后不能够表达意义就不要缩写  
- 类静态变量爱用大小写命名

##### * 用例  

```
 class UserInfo{
   ...
   public:
   static int Instance;    //类静态变量大小写混合
   private:
      user_name_;          //下划线结尾
      user_headimg_;
 }

 void GetUserInfo(int uid, int, table_name)
 {
    string local_varible; //结尾不要下划线
    ...
 }

 int usr;                //缩写后不清楚意义，改为user

```   

#### 4 常量命名  
##### * 说明：   
- 常量，枚举值以小写字母"k"开头，其它单词大小写混合(有些命名常量以字母全部大写，以划线分隔也可以,例如  
`const int MAX_UID 2123453425`,只是尽量用前面的，避免和宏定义命名冲突）  

##### * 用例  

```
const int kNumThreads;
enum Operation{
   kGetUserHeadimg = 0,
   kSetUserHeadimg
}
```
#### 5 函数命名  
##### * 说明：
- 常规函数使用大小写混合的方式命名，类的成员函数一般也是如此命名，但是数据成员的取值和设值可以小写,以下  
划线区分数据成员（当然如果全部统一为大小写混合也可以）

##### * 用例  
```
 int GetTimeOfDay()               // 正确，大小写混合
 int getTimeOfDay()               // 错误，不要首字母小写
 string UserInfo::GetUserName()   //正确，成员函数，也是如此命名
 //如果一个类有一个数据成员 "uid_"
  int  uid()                      //获取uid的函数
  void set_uid(int)               //给uid赋值的函数
  int  Uid()                      //这样也可以

```

#### 6 命名空间命名
##### * 说明：
- 命名空间名称单词全部小写，单词之间以下划线隔开，少用缩写，避免冲突，尽量去空间里的项目相关  

##### * 用例
```
   yb_tools
   std_tools  //错误，不要和标准空间挂钩
```

#### 7 宏命名
##### * 说明：
- 单词全部大写，单词之间以下划线分隔，例如：`#define MAX_UID 2123452345`

#### 8 全局变量命名
##### * 说明：
- 全局变量以`g_`开头，其它部分采用大小写混合的方式命名，例如`const int g_NumThreads`
- 非类的静态变量以`s_`开头，其它部分采用大小写混合的方式命名，例如`const int s_NumThreads`

#### 9 其它命名：
- 关于函数命名，有些C风格的命名喜欢以小写字母加下划线命名也可以，但是尽量用上面说的规则



### 二 注释规则
#### 总则：
1. 注释尽量写清楚，条件语句比较多的，需要详细一点的注释，一些函数，类等也需要加，方便  开发和维护
2. 数据库表字段都要写详细注释
3. 不要描述显而易见的东西  

#### TODO注释
 对那些临时的，短期的解决方案，或已经够好，但仍不完美的代码使用  TODO 注释。例如`TODO(Louis): 兼容老版本`


###  三 开发规范

#### 1 格式规范
- 运算符前后空一格，例如`a += 1`, `(a < b)`,不要写`(a<b)`过于拥挤，当然像`* & . ->`不要加
- `for`,`if else`和`switch`关键字后空出一个，符号`","`或`";"` 后也应空出一格  

```
for (int idx; idx < arr.size(); ++idx){...} //正确， for,分号后，小于号前后都空出一个
switch (type){...}                          //正确
if(a < 3)                                   //错误，if后没有空格应该写成 if (a < 3)
if (a<3)                                   // 错误，< 号前后没有加空格

```

- 尽量使用前置++，后置++会构造一个副本返回
- 为避免重复包含头文件，所有头文件都应该使用宏判断
```
#ifndef _USER_INFO_MANAGER_H_
#define _USER_INFO_MANAGER_H_
...       //code
#endif
```


#### 2 编码逻辑规范
- 构造函数尽量使用初始化列表
- if条件判断较多的话，如果可以使用switch替代，尽量使用switch，cpu的分支预测和流水线在if中会降低效率
- 传递参数尽量使用引用传递
- 尽量使用内嵌类型：例如一个服务有很多op,可以将op定义成服务类的内嵌类型，毕竟每个op仅于服务相关
